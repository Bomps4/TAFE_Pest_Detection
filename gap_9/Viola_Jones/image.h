 /* Copyright (C) 2023-2024 University of Bologna, Italy.
 *  Created on: Apr 21, 2022
 *      Author: olmo baldoni
 *      email:  olmo.baldoni@studio.unibo.it
 *  Modified by 
 *          Carlo Montanari calo.montanari4@studio.unibo.it
 *          Luca Bompani luca.bompani5@unibo.it
 */

#ifndef INC_IMAGE_H_
#define INC_IMAGE_H_
/***************************Begin User Header*******************************/
/***************************End User Header*********************************/
/***************************Begin User Const********************************/
/***************************End User Const**********************************/
/***************************Begin User Struct*******************************/

/*
 * struct for input image
 */

#define width_image 320
#define height_image 240

#define WIDTH_TILE	100
#define HEIGHT_TILE 240

typedef struct {
	int width;
	int height;
} MySize;

typedef struct {
	int x;
	int y;
} MyPoint;

typedef struct {
	int x;
	int y;
	int width;
	int height;
} MyRect;


typedef struct {
	int width;
	int height;
	unsigned char data[width_image*height_image];
} MyImage;

/*
 * struct for integral image
 */

typedef struct {
	int width;
	int height;
	int data[WIDTH_TILE*HEIGHT_TILE];
} MyIntImage;

/***************************End User Struct*********************************/
/***************************Begin User Function*****************************/
void readImage(MyImage *image);
void Copy_tile_image (MyImage *tile, MyImage* src, int n_tile, int overlapp, MyPoint *final_offset);
void setImage(int width, int height, MyImage *image);
void setSumImage(int width, int height, MyIntImage *image);
/***************************End User Function*******************************/

/****************************Input Image Pixels***********************************/
//const unsigned char pixels[] = {122, 121, 122, 122, 121, 121, 121, 121, 122, 123, 122, 122, 122, 123, 122, 121, 120, 121, 121, 121, 121, 122, 122, 122, 121, 123, 123, 122, 121, 120, 120, 120, 120, 121, 120, 120, 120, 121, 122, 123, 123, 122, 122, 122, 122, 121, 121, 122, 123, 123, 123, 122, 121, 122, 122, 121, 120, 121, 121, 121, 121, 121, 122, 122, 121, 122, 122, 121, 121, 120, 120, 120, 120, 122, 122, 121, 121, 121, 121, 121, 123, 122, 123, 123, 123, 123, 122, 122, 123, 122, 122, 121, 121, 122, 122, 122, 121, 122, 122, 121, 122, 122, 123, 122, 122, 121, 122, 122, 121, 121, 121, 120, 120, 123, 122, 121, 121, 121, 121, 121, 125, 121, 122, 124, 124, 124, 123, 122, 122, 121, 121, 121, 122, 123, 123, 121, 122, 123, 123, 122, 123, 123, 124, 123, 123, 121, 122, 122, 122, 122, 121, 121, 119, 123, 122, 121, 121, 122, 124, 122, 123, 120, 120, 122, 124, 124, 121, 121, 123, 119, 120, 121, 121, 119, 119, 120, 122, 122, 122, 122, 122, 124, 124, 122, 122, 120, 124, 124, 123, 125, 122, 117, 118, 121, 123, 124, 122, 121, 122, 122, 123, 121, 122, 122, 121, 121, 121, 122, 122, 119, 121, 122, 122, 122, 122, 124, 125, 122, 122, 121, 122, 122, 123, 122, 121, 122, 125, 123, 121, 122, 120, 119, 122, 120, 123, 124, 123, 122, 122, 121, 122, 122, 124, 122, 118, 118, 121, 123, 122, 122, 122, 122, 122, 121, 120, 121, 121, 122, 121, 122, 121, 122, 122, 122, 120, 120, 123, 121, 119, 121, 120, 120, 124, 118, 121, 123, 123, 122, 122, 121, 123, 122, 125, 124, 117, 116, 121, 123, 122, 123, 122, 122, 121, 119, 119, 118, 119, 122, 122, 121, 121, 121, 122, 123, 123, 116, 118, 118, 118, 123, 123, 121, 122, 116, 119, 122, 122, 122, 122, 121, 125, 121, 125, 124, 118, 116, 121, 123, 120, 121, 120, 120, 121, 122, 122, 123, 123, 122, 122, 122, 121, 121, 122, 123, 124, 118, 117, 116, 116, 122, 123, 118, 119, 115, 118, 121, 122, 122, 122, 122, 124, 121, 124, 124, 120, 120, 122, 121, 121, 120, 120, 119, 120, 121, 121, 121, 121, 121, 121, 121, 121, 120, 120, 121, 122, 122, 120, 114, 113, 119, 121, 117, 117, 116, 119, 121, 121, 121, 122, 122, 124, 122, 122, 123, 122, 122, 122, 122, 122, 122, 121, 120, 120, 120, 119, 118, 117, 119, 120, 120, 119, 117, 116, 116, 116, 120, 120, 116, 115, 119, 119, 118, 119, 120, 121, 121, 120, 120, 121, 121, 123, 122, 122, 122, 123, 123, 121, 122, 124, 122, 121, 121, 121, 122, 122, 122, 121, 118, 119, 119, 118, 115, 113, 112, 112, 115, 119, 119, 119, 121, 120, 118, 120, 122, 124, 122, 120, 119, 120, 121, 120, 121, 121, 121, 120, 121, 122, 123, 122, 123, 116, 122, 124, 115, 114, 119, 123, 123, 113, 123, 123, 117, 115, 130, 116, 108, 120, 120, 126, 116, 121, 122, 116, 119, 121, 122, 123, 122, 122, 122, 122, 122, 122, 122, 122, 122, 121, 121, 121, 120, 118, 122, 123, 122, 123, 124, 124, 120, 121, 115, 118, 123, 122, 113, 117, 113, 120, 126, 119, 119, 122, 125, 124, 114, 106, 104, 112, 121, 124, 125, 124, 123, 123, 123, 122, 122, 121, 121, 122, 119, 118, 117, 118, 118, 118, 116, 113, 111, 121, 123, 108, 108, 121, 112, 110, 102, 108, 121, 110, 121, 123, 117, 120, 118, 106, 102, 112, 123, 124, 123, 124, 123, 123, 123, 122, 122, 122, 121, 120, 118, 118, 114, 117, 118, 118, 121, 122, 116, 124, 78, 12, 55, 117, 118, 115, 124, 118, 115, 92, 98, 105, 97, 109, 121, 116, 116, 122, 124, 122, 119, 124, 122, 121, 122, 122, 122, 122, 122, 122, 123, 121, 115, 119, 118, 115, 122, 118, 95, 48, 19, 17, 44, 91, 102, 112, 114, 114, 115, 109, 116, 127, 108, 116, 117, 120, 122, 124, 123, 123, 121, 123, 122, 122, 122, 122, 122, 121, 121, 121, 123, 121, 116, 120, 117, 115, 117, 97, 47, 54, 25, 21, 45, 107, 112, 128, 117, 117, 112, 111, 112, 127, 116, 124, 118, 121, 121, 119, 121, 125, 124, 122, 122, 122, 122, 121, 121, 121, 120, 120, 116, 119, 117, 121, 120, 125, 117, 68, 34, 33, 16, 13, 37, 85, 99, 96, 90, 97, 107, 113, 118, 121, 117, 116, 122, 122, 121, 120, 122, 124, 123, 123, 124, 122, 122, 121, 120, 120, 119, 119, 119, 123, 119, 119, 113, 117, 95, 20, 40, 41, 31, 13, 53, 53, 77, 90, 109, 113, 122, 121, 122, 116, 124, 120, 120, 120, 122, 125, 122, 119, 120, 124, 123, 123, 122, 120, 122, 123, 122, 119, 117, 124, 120, 110, 125, 75, 42, 18, 35, 29, 16, 19, 22, 27, 45, 94, 116, 120, 118, 117, 124, 124, 116, 121, 123, 121, 120, 122, 124, 123, 121, 124, 124, 124, 124, 123, 124, 126, 122, 119, 122, 116, 108, 114, 129, 88, 26, 30, 27, 20, 18, 28, 37, 41, 52, 87, 117, 117, 116, 116, 120, 122, 119, 123, 123, 121, 121, 123, 123, 122, 122, 125, 121, 121, 119, 117, 119, 119, 119, 117, 115, 122, 129, 126, 100, 31, 53, 37, 46, 33, 36, 43, 52, 53, 64, 85, 120, 124, 124, 121, 120, 120, 120, 121, 124, 122, 122, 123, 123, 122, 122, 124, 125, 124, 122, 121, 121, 122, 122, 121, 123, 115, 115, 122, 71, 0, 7, 43, 41, 22, 25, 25, 28, 26, 37, 47, 83, 115, 121, 116, 121, 122, 121, 125, 125, 122, 121, 122, 124, 123, 122, 123, 126, 124, 124, 124, 123, 121, 119, 119, 125, 122, 122, 122, 62, 0, 6, 38, 37, 17, 22, 24, 30, 29, 32, 29, 45, 110, 124, 114, 124, 124, 119, 127, 126, 122, 119, 122, 125, 125, 124, 123, 121, 122, 123, 124, 122, 117, 112, 111, 104, 103, 99, 101, 88, 63, 97, 68, 25, 8, 12, 21, 33, 40, 37, 29, 35, 114, 130, 118, 127, 123, 118, 123, 126, 122, 120, 122, 125, 125, 122, 124, 125, 125, 125, 126, 124, 121, 118, 119, 120, 127, 121, 124, 118, 117, 100, 130, 112, 83, 50, 23, 10, 20, 27, 35, 36, 104, 122, 117, 122, 120, 125, 124, 123, 122, 122, 124, 124, 123, 121, 125, 126, 123, 121, 120, 120, 119, 122, 126, 115, 120, 118, 120, 123, 110, 109, 103, 118, 125, 126, 118, 91, 75, 51, 47, 58, 108, 124, 123, 120, 120, 130, 122, 121, 122, 124, 125, 123, 120, 120, 124, 123, 126, 124, 123, 122, 122, 121, 118, 123, 123, 122, 121, 120, 119, 119, 119, 109, 111, 114, 116, 120, 122, 124, 124, 132, 127, 123, 122, 122, 123, 122, 121, 119, 121, 123, 123, 124, 125, 124, 126, 124, 124, 123, 123, 123, 125, 122, 118, 120, 120, 119, 120, 119, 119, 119, 119, 114, 115, 115, 118, 119, 120, 120, 120, 121, 121, 120, 121, 122, 124, 125, 127, 123, 126, 127, 126, 122, 121, 121, 127, 126, 125, 123, 124, 126, 127, 122, 118, 122, 121, 121, 120, 121, 120, 120, 120, 116, 117, 118, 119, 120, 121, 121, 121, 119, 121, 122, 122, 121, 123, 124, 127, 122, 128, 133, 128, 123, 121, 123, 127, 126, 126, 125, 124, 124, 126, 123, 120, 125, 124, 124, 122, 122, 122, 122, 122, 119, 120, 121, 122, 122, 123, 123, 123, 123, 124, 124, 125, 122, 122, 123, 124, 120, 127, 131, 128, 122, 121, 123, 125, 126, 127, 126, 123, 122, 123, 123, 123, 124, 123, 123, 122, 122, 121, 121, 121, 124, 124, 124, 123, 123, 122, 122, 122, 123, 123, 123, 124, 123, 124, 124, 124, 122, 125, 127, 123, 120, 119, 120, 124, 126, 128, 127, 124, 121, 122, 124, 125, 122, 122, 122, 122, 122, 122, 122, 123, 123, 123, 123, 123, 123, 123, 123, 123, 124, 123, 123, 124, 124, 124, 124, 124, 124, 125, 124, 123, 123, 124, 123, 125, 125, 126, 127, 125, 124, 125, 126, 125, 123, 123, 123, 123, 124, 124, 125, 125, 122, 121, 122, 123, 124, 124, 126, 125, 126, 126, 127, 125, 124, 123, 124, 125, 127, 126, 125, 124, 126, 128, 126, 127, 124, 124, 126, 126, 127, 128, 127, 125, 125, 124, 124, 124, 124, 123, 124, 124, 126, 126, 125, 125, 124, 124, 124, 124, 124, 127, 129, 127, 125, 124, 127, 131, 130, 130, 126, 123, 124, 124, 120, 127, 124, 138, 121, 123, 127, 128, 123, 124, 123, 124, 124, 124, 123, 123, 124, 125, 124, 125, 124, 124, 124, 124, 124, 123, 124, 125, 126, 127, 126, 126, 124, 124, 125, 125, 124, 124, 123, 122, 121, 126, 123, 113, 134, 126, 132, 117, 125, 126, 124, 124, 125, 125, 124, 124, 124, 124, 123, 123, 124, 124, 124, 124, 124, 124, 123, 125, 125, 126, 125, 124, 123, 122, 125, 124, 124, 123, 123, 123, 122, 125, 127, 124, 135, 123, 122, 133, 133, 123, 125, 124, 124, 125, 126, 126, 125, 124, 123, 124, 125, 125, 125, 125, 125, 125, 124, 125, 127, 126, 125, 123, 124, 124, 123, 123, 123, 123, 123, 123, 122, 126, 131, 121, 131, 126, 126, 121, 118, 132, 126, 125, 124, 124, 127, 128, 127, 126, 125, 124, 126, 126, 126, 126, 126, 126, 125, 126, 127, 126, 126, 125, 125, 126, 123, 123, 123, 122, 123, 123, 123};

/*320x240*/
extern unsigned char pixels[];









/****************************End Input Image*************************************/
#endif/* INC_IMAGE_H_ */